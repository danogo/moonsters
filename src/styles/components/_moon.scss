/************************************
  MOON
*/

.moon {
  width: 60em;
  height: 60em;
  background: $moon;
  border-radius: 50%;
  position: absolute;
  transform: translate3d(0, 50%, 0);
  box-shadow: inset -5em -4em 0px $moon-shadow, 0px 0px 0px 4em rgba($moon, 0.1), 0px 0px 0px 8em rgba($moon, 0.05), 0px 0px 0px 12em rgba($moon, 0.025);
}
 
%crater-b {
  background-color: $moon-shadow;
  width: 19%;
  height: 20%;
  position: absolute;
  border-radius: 50%;
  top: 45%;
  left: 50%;
  overflow: hidden;
  box-shadow: inset 1em 1em $crater-shadow;
}

%crater-m {
  @extend %crater-b;
  width: 10%;
  height: 10%;
  box-shadow: inset .6em .6em $crater-shadow;
}

%crater-s {
  @extend %crater-b;
  width: 5%;
  height: 5%;
  box-shadow: inset .4em .4em $crater-shadow;
}

@for $i from 1 through 2 {
  .crater-b-#{$i} {
    @extend %crater-b;
  }
}

.crater-b-1 {
  box-shadow: inset 1em 1em $crater-shadow;
}

// if crater is transformed, its box-shadow is bugged sometimes and disappears
// rotated container is created to avoid bug
.rotated-b-2 {
  transform: rotate(45deg);
  top: 5%;
  left: 15%;
  width: 15%;
  height: 20%;
  position: absolute;
}

.crater-b-2 {
  width: 100%;
  height: 100%;
  box-shadow: inset 1.6em .7em $crater-shadow;
}

@for $i from 1 through 3 {
  .crater-m-#{$i} {
    @extend %crater-m;
  }
}

.crater-m-1 {
  top: 70%;
  left: 15%;
}

.crater-m-2 {
  top: 65%;
  left: 65%;
}

.crater-m-3 {
  top: 40%;
  left: 84%;
  height: 12%;
  border: 1em solid $moon;
}

@for $i from 1 through 4 {
  .crater-s-#{$i} {
    @extend %crater-s;
  }
}

.crater-s-1 {
  top: 68%;
  left: 57%;
}

.crater-s-2 {
  top: 29%;
  left: 34%;
}

.rotated-s-3 {
  top: 10%;
  left: 70%;
  width: 9%;
  height: 7%;
  transform: rotate(45deg);
  position: absolute;
}
.crater-s-3 {
  width: 100%;
  height: 100%;
}

.crater-s-4 {
  top: 90%;
  left: 45%;
  width: 6%;
  border: .7em solid $moon;
}

%side-crater {
  background-color: $moon;
  position: absolute;
  width: 15%;
  height: 10%;
  border-radius: 40%;
  top: 5%;
  left: 17%;
  transform: rotate(-33deg);
}

@for $i from 1 through 4 {
  .side-crater-#{$i} {
    @extend %side-crater;
  }
}

.side-crater-1 {
  @include side-shadow($crater-shadow);
}

.side-crater-2 {
  top: 28%;
  left: 87%;
  width: 15%;
  height: 7%;
  background-color: $moon-shadow;
  transform: rotate(69deg);
}

.side-crater-3 {
  width: 18%;
  height: 15%;
  top: 55%;
  left: -3%;
  transform: rotate(-105deg);
  @include side-shadow($crater-shadow);
}

.side-crater-4 {
  top: 84%;
  left: 66%;
  width: 15%;
  height: 12%;
  background-color: $moon-shadow;
  transform: rotate(-30deg);
}